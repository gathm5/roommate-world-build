"use strict";angular.module("roommateWorldApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","gsDirectives","ngAutocomplete","ngTell","LocalForageModule","angularMoment","firebase"]).constant("$config",{backend:{url:"https://torid-torch-8850.firebaseio.com"}}).config(["$stateProvider","$urlRouterProvider","$localForageProvider",function(a,b,c){c.config({name:"RoommateWorld",version:1,storeName:"roommateworldstorage",description:"Store the roommate world"}),c.setNotify(!0,!0),a.state("load",{url:"/load",views:{"@":{templateUrl:"/views/common/selection-screen.html",controller:"SelectionScreenCtrl"}}}).state("post",{url:"/post",views:{"@":{templateUrl:"/views/post/post.html",controller:"PostCtrl"}}}).state("start",{views:{"@":{templateUrl:"/views/common/load-screen.html"}}}).state("start.main",{url:"/",views:{"MainContent@start":{templateUrl:"/views/common/main-content.html",controller:"MainContentCtrl"},"MenuPanel@start":{templateUrl:"/views/menu/menu-panel.html",controller:"MenuPanelCtrl"},"Header@start.main":{templateUrl:"/views/common/header.html",controller:"HeaderCtrl"}}}).state("start.main.dashboard",{url:"dashboard",views:{"Content@start.main":{templateUrl:"/views/dashboard/dashboard.html",controller:"DashboardCtrl"},"SlideMenu@start":{templateUrl:"/views/common/filter.html",controller:"FilterCtrl"}}}).state("start.main.settings",{url:"settings",views:{"Content@start.main":{templateUrl:"/views/menu/settings.html",controller:"SettingsCtrl"}}}),b.otherwise("/load")}]).run(["$state","$stateParams","drawerParams","slideOutMenuParams","gsDeviceListeners","$rootScope",function(a,b,c,d,e,f){f.$state=a,f.drawerParams=c,f.slideOutMenuParams=d,e.init(),f.$on("$stateChangeStart",function(){c.close(),d.close()}),f.$on("$device.backbutton",function(a){(c.isDrawerOpen||d.isSlideOpen)&&(a.preventDefault(),a.defaultPrevented=!0,c.close(),d.close(),f.$apply())}),f.$on("$device.menubutton",function(a){a.preventDefault(),a.defaultPrevented=!0,d.isSlideOpen||c.toggle(),f.$apply()})}]),angular.module("roommateWorldApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("roommateWorldApp").controller("FilterCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("roommateWorldApp").controller("MainContentCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("roommateWorldApp").controller("HeaderCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("roommateWorldApp").controller("MenuPanelCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("roommateWorldApp").controller("SettingsCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("roommateWorldApp").controller("DashboardCtrl",["$scope","Room","Roommate","Apartment","userSelectionData",function(a,b,c,d,e){var f,g;switch(g=e.label()){case"Rooms":a.stayData=new b,a.displayData=a.stayData.get();break;case"Roommates":a.stayData=new c,a.displayData=a.stayData.get();break;case"Apartments":a.stayData=new d,a.displayData=a.stayData.get();break;default:a.stayData=new c,a.displayData=a.stayData.get()}g=g.substring(0,g.length-1),g=g.toLowerCase(),a.selected=g,a.remove=function(a){f.remove(a)},a.selection=e.label(),a.$on("$device.backbutton",function(a){a.defaultPrevented||navigator.app&&navigator.app.exitApp()})}]),angular.module("roommateWorldApp").controller("SelectionScreenCtrl",["$scope","$state","userSelectionData",function(a,b,c){var d={roommates:c.ROOMMATES,rooms:c.ROOMS,apartments:c.APARTMENTS};a.defaultSelected=!0,a.go=function(a){angular.isUndefined(d[a])||(c.select(d[a]),b.go("start.main.dashboard"))},a.$on("$device.backbutton",function(a){a.defaultPrevented||navigator.app&&navigator.app.exitApp()})}]),angular.module("roommateWorldApp").service("userSelectionData",[function(){var a=0,b=this;this.ROOMMATES=0,this.ROOMS=1,this.APARTMENTS=2,this.select=function(b){a=b},this.get=function(){return a},this.label=function(){switch(a){case b.ROOMMATES:return"Roommates";case b.ROOMS:return"Rooms";case b.APARTMENTS:return"Apartments"}}}]),angular.module("roommateWorldApp").factory("Roommate",["BackendData",function(a){return function(){this.get=function(){var b=[];for(var c in a)a[c].roommate&&b.push(a[c]);return angular.extend(b,a),a},this.add=function(b){var c={roommate:{type:"roommate",zipcode:b.zipcode,rent:b.rent}};return a.$add(c)},this.remove=function(b){return a.$remove(a.$getRecord(b))}}}]),angular.module("roommateWorldApp").factory("Room",["BackendData",function(a){return function(){this.get=function(){var b=[];for(var c in a)a[c].room&&b.push(a[c]);return angular.extend(b,a),a},this.add=function(b){var c={room:{type:"room",zipcode:b.zipcode,rent:b.rent}};return a.$add(c)},this.remove=function(b){return a.$remove(a.$getRecord(b))}}}]),angular.module("roommateWorldApp").factory("Apartment",["BackendData",function(a){return function(){this.get=function(){var b=[];for(var c in a)a[c].apartment&&b.push(a[c]);return angular.extend(b,a),a},this.add=function(b){var c={apartment:{type:"apartment",zipcode:b.zipcode,rent:b.rent}};return a.$add(c)},this.remove=function(b){return a.$remove(a.$getRecord(b))}}}]),angular.module("roommateWorldApp").controller("PostCtrl",["$scope","$state","Room","Roommate","Apartment",function(a,b,c,d,e){var f;a.options=["rooms","roommates","apartments"],a.selected=a.options[1],a.postData={zipcode:null,type:null,rent:null},a.select=function(b){a.selected=b,a.postData.type=b},a.post=function(){switch(a.selected){case"rooms":f=new c;break;case"roommates":f=new d;break;case"apartments":f=new e}a.postData.type=a.selected,a.postData.zipcode&&a.postData.type&&a.postData.rent&&(f.add(a.postData),b.go("load"))},a.$on("$device.backbutton",function(a){a.defaultPrevented||b.go("load")})}]),angular.module("roommateWorldApp").factory("BackendData",["$config","$firebase",function(a,b){return b(new Firebase(a.backend.url)).$asArray()}]),angular.module("roommateWorldApp").filter("listFilter",function(){return function(a,b){var c=[];for(var d in a)a[d][b]&&c.push(a[d]);return c}});